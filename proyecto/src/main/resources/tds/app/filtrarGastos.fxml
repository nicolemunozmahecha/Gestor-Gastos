<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.SplitPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TitledPane?>
<?import javafx.scene.layout.FlowPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<SplitPane dividerPositions="0.7" xmlns="http://javafx.com/javafx/21" xmlns:fx="http://javafx.com/fxml/1" fx:controller="tds.vista.FiltrarGastosController">
  <items>
    <!-- Panel izquierdo con la tabla -->
    <VBox>
       <children>
          <TableView fx:id="tablaGastos" VBox.vgrow="ALWAYS">
            <columns>
              <TableColumn fx:id="colNombre" prefWidth="100.0" text="Nombre" />
              <TableColumn fx:id="colCantidad" prefWidth="80.0" text="Cantidad" />
              <TableColumn fx:id="colFecha" prefWidth="90.0" text="Fecha" />
              <TableColumn fx:id="colDescripcion" prefWidth="120.0" text="Descripción" />
              <TableColumn fx:id="colCategoria" prefWidth="90.0" text="Categoría" />
              <TableColumn fx:id="colPagador" prefWidth="90.0" text="Pagador" />
            </columns>
            <columnResizePolicy>
               <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
          </TableView>
       </children>
    </VBox>
    
    <!-- Panel derecho con los filtros -->
    <VBox spacing="5">
       <padding>
          <Insets bottom="5" left="5" right="5" top="5" />
       </padding>
       <children>
          <ScrollPane fitToWidth="true" VBox.vgrow="ALWAYS">
             <content>
                <VBox spacing="5">
                   <children>
                      <TitledPane animated="false" expanded="false" text="Meses">
                        <content>
                          <FlowPane hgap="10" vgap="5">
                             <children>
                                <CheckBox fx:id="checkEnero" mnemonicParsing="false" text="Enero" />
                                <CheckBox fx:id="checkFebrero" mnemonicParsing="false" text="Febrero" />
                                <CheckBox fx:id="checkMarzo" mnemonicParsing="false" text="Marzo" />
                                <CheckBox fx:id="checkAbril" mnemonicParsing="false" text="Abril" />
                                <CheckBox fx:id="checkMayo" mnemonicParsing="false" text="Mayo" />
                                <CheckBox fx:id="checkJunio" mnemonicParsing="false" text="Junio" />
                                <CheckBox fx:id="checkJulio" mnemonicParsing="false" text="Julio" />
                                <CheckBox fx:id="checkAgosto" mnemonicParsing="false" text="Agosto" />
                                <CheckBox fx:id="checkSeptiembre" mnemonicParsing="false" text="Septiembre" />
                                <CheckBox fx:id="checkOctubre" mnemonicParsing="false" text="Octubre" />
                                <CheckBox fx:id="checkNoviembre" mnemonicParsing="false" text="Noviembre" />
                                <CheckBox fx:id="checkDiciembre" mnemonicParsing="false" text="Diciembre" />
                             </children>
                             <padding>
                                <Insets bottom="5" left="5" right="5" top="5" />
                             </padding>
                          </FlowPane>
                        </content>
                      </TitledPane>
                      
                      <TitledPane animated="false" text="Intervalo de fechas">
                         <content>
                            <VBox spacing="10">
                               <padding>
                                  <Insets bottom="5" left="5" right="5" top="5" />
                               </padding>
                               <children>
                                  <VBox spacing="5">
                                     <children>
                                        <Label text="Introduzca la fecha desde:">
                                           <font>
                                              <Font size="11.0" />
                                           </font>
                                        </Label>
                                        <DatePicker fx:id="fechaDesde" maxWidth="Infinity" />
                                     </children>
                                  </VBox>
                                  <VBox spacing="5">
                                     <children>
                                        <Label text="Introduzca la fecha hasta:">
                                           <font>
                                              <Font size="11.0" />
                                           </font>
                                        </Label>
                                        <DatePicker fx:id="fechaHasta" maxWidth="Infinity" />
                                     </children>
                                  </VBox>
                               </children>
                            </VBox>
                         </content>
                      </TitledPane>
                      
                      <TitledPane animated="false" text="Categorías">
                         <content>
                            <ListView fx:id="listaCategorias" prefHeight="87.0" prefWidth="286.0" />
                         </content>
                      </TitledPane>
                      
                      <TitledPane animated="false" text="Filtros activos">
                         <content>
                            <VBox spacing="5">
                               <padding>
                                  <Insets bottom="5" left="5" right="5" top="5" />
                               </padding>
                               <children>
                                  <Label fx:id="labelFiltrosActivos" text="Ningún filtro aplicado" />
                               </children>
                            </VBox>
                         </content>
                      </TitledPane>
                   </children>
                </VBox>
             </content>
          </ScrollPane>
          
          <HBox alignment="CENTER" spacing="5">
             <children>
                <Button fx:id="btnAplicarFiltros" mnemonicParsing="false" onAction="#aplicarFiltros" text="Aplicar filtros" />
                <Button fx:id="btnLimpiar" mnemonicParsing="false" onAction="#limpiarFiltros" text="Limpiar" />
                <Button mnemonicParsing="false" onAction="#atras" text="Atrás" />
             </children>
          </HBox>
       </children>
    </VBox>
  </items>
</SplitPane>
